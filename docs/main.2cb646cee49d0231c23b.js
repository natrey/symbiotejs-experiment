(()=>{"use strict";var t={285:(t,e,s)=>{s.d(e,{Z:()=>d});var n=s(81),i=s.n(n),r=s(645),o=s.n(r),a=s(363),l=o()(i());l.i(a.Z),l.push([t.id,'body {\n    font-family: -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;\n    margin: 0;\n    padding: 0 24px;\n}\n\ninput[type=\'text\'], [contenteditable="true"] {\n    -webkit-appearance: none;\n    box-sizing: border-box;\n    margin: 0;\n    font-variant: tabular-nums;\n    list-style: none;\n    font-feature-settings: "tnum";\n    padding: 4px 11px;\n    color: #000000d9;\n    font-size: 14px;\n    line-height: 1.5715;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #d9d9d9;\n    border-radius: 2px;\n    transition: all .3s;\n    outline: 0;\n}\n\ninput:hover, \n[contenteditable="true"]:hover {\n    border-color: #40a9ff;\n    border-right-width: 1px;\n}\n\ninput:focus,\n[contenteditable="true"]:focus {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, .2);\n    border-right-width: 1px;\n    outline: 0;\n}\n\nbutton {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    white-space: nowrap;\n    outline: 0;\n    text-align: center;\n    border: 1px solid transparent;\n    box-shadow: 0 2px #00000004;\n    cursor: pointer;\n    transition: all .3s cubic-bezier(.645,.045,.355,1);\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-appearance: button;\n    user-select: none;\n    touch-action: manipulation;\n    height: 32px;\n    line-height: 1.5;\n    padding: 4px 15px;\n    font-size: 14px;\n    border-radius: 2px;\n    color: #000000d9;\n    border-color: #d9d9d9;\n    background: #fff;\n}\n\nbutton:hover, \nbutton:focus {\n    color: var(--primary-color-hover);\n    border-color: var(--primary-color-hover);\n    background: #fff;\n}\n\nbutton:disabled {\n    color: #00000040;\n    border-color: #d9d9d9;\n    background: #f5f5f5;\n    text-shadow: none;\n    box-shadow: none;\n    cursor: not-allowed;\n    pointer-events: none;\n}\n\nsmall {\n    color: var( --secondary-color);\n}',""]);const d=l},363:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(81),i=s.n(n),r=s(645),o=s.n(r)()(i());o.push([t.id,":root {\n  --primary-color: #1890ff; \n  --primary-color-hover: #40a9ff; \n  --secondary-color: #00000073;\n  --light-grey: #00000010;\n}",""]);const a=o},957:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(81),i=s.n(n),r=s(645),o=s.n(r)()(i());o.push([t.id,".todo-item {\n    display: flex;\n    justify-content: space-between;\n    border: 1px solid rgba(0,0,0,.06);\n    border-radius: 4px;\n    padding: 12px;\n    margin-bottom: 12px;\n}\n\n.todo-item__col {\n    display: flex;\n    flex: 1;\n}\n\n.todo-item__content {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n}\n\n.todo-item__checkbox {\n    margin-right: 12px;\n}\n\n.todo-item__input {\n    margin-bottom: 8px;\n    border: 1px solid rgba(0,0,0,.06);\n    padding: 4px 8px;\n}\n\n.todo-item__button {\n    margin-left: 12px;\n    border: none;\n    box-shadow: none;\n    padding: 4px;\n    font-size: 20px;\n}",""]);const a=o},807:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(81),i=s.n(n),r=s(645),o=s.n(r)()(i());o.push([t.id,".todo-list {\n    max-width: 560px;\n    margin: 24px auto;\n}\n\n.todo-list__sorting {\n    margin-bottom: 12px;\n}\n\n.todo-list__toolbar {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 12px;\n}\n\n.todo-list__toolbar > * {\n    margin: 0 4px 12px;\n}\n\n@media (max-width: 768px) {\n    .todo-list__toolbar {\n        flex-direction: column;\n    }\n}",""]);const a=o},98:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(81),i=s.n(n),r=s(645),o=s.n(r)()(i());o.push([t.id,".todo-list-empty {\n    color: var(--secondary-color);\n    margin: 24px 0;\n}",""]);const a=o},997:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(81),i=s.n(n),r=s(645),o=s.n(r)()(i());o.push([t.id,".heading-wrapper {\n    display: inline-flex;\n    position: relative;\n    margin-bottom: 8px;\n}\n\n.heading {\n    color: var(--primary-color);\n    margin: 0 4px 0 0;\n}\n\n.heading_hidden {\n    visibility: hidden;\n    opacity: 0;\n    min-width: 120px;\n}\n\n.heading__button {\n    border: none;\n    box-shadow: none;\n    padding: 4px;\n    font-size: 18px;\n}\n\n.heading__button:disabled {\n    background: none;\n}\n\n.heading__input {\n    position: absolute;\n    left: 0;\n    right: 36px;\n}",""]);const a=o},511:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(81),i=s.n(n),r=s(645),o=s.n(r)()(i());o.push([t.id,".todo-list-progress-bar {\n    margin: 16px 0 24px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n}\n\n.todo-list-progress-bar__line,\n.todo-list-progress-bar__progress {\n    height: 10px;\n    flex-shrink: 0;\n    width: 100%;\n    border-radius: 8px;\n    background-color: var(--light-grey);\n    margin-bottom: 12px;\n}\n\n.todo-list-progress-bar__line {\n    position: relative;\n}\n\n.todo-list-progress-bar__progress {\n    position: absolute;\n    width: auto;\n    background: linear-gradient(90deg, rgba(252,176,69,1) 0%, rgba(253,29,29,1) 49%, rgba(131,58,180,1) 100%);\n    transition: width .3s;\n}\n\n",""]);const a=o},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s="",n=void 0!==e[5];return e[4]&&(s+="@supports (".concat(e[4],") {")),e[2]&&(s+="@media ".concat(e[2]," {")),n&&(s+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),s+=t(e),n&&(s+="}"),e[2]&&(s+="}"),e[4]&&(s+="}"),s})).join("")},e.i=function(t,s,n,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);n&&o[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),s&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=s):c[2]=s),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function s(t){for(var s=-1,n=0;n<e.length;n++)if(e[n].identifier===t){s=n;break}return s}function n(t,n){for(var r={},o=[],a=0;a<t.length;a++){var l=t[a],d=n.base?l[0]+n.base:l[0],c=r[d]||0,h="".concat(d," ").concat(c);r[d]=c+1;var u=s(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var m=i(p,n);n.byIndex=a,e.splice(a,0,{identifier:h,updater:m,references:1})}o.push(h)}return o}function i(t,e){var s=e.domAPI(e);return s.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;s.update(t=e)}else s.remove()}}t.exports=function(t,i){var r=n(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=s(r[o]);e[a].references--}for(var l=n(t,i),d=0;d<r.length;d++){var c=s(r[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=l}}},569:t=>{var e={};t.exports=function(t,s){var n=function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,s)=>{t.exports=function(t){var e=s.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(s){!function(t,e,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var i=void 0!==s.layer;i&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,i&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var r=s.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,s)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={id:n,exports:{}};return t[n](r,r.exports,s),r.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=Object.defineProperty,e=(e,s,n)=>(((e,s,n)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n})(e,"symbol"!=typeof s?s+"":s,n),n),n=class{constructor(t){this.uid=Symbol(),this.name=t.name||null,t.schema.constructor===Object?this.store=function(t){let e=t=>{var s;for(let n in t)(null==(s=t[n])?void 0:s.constructor)===Object&&(t[n]=e(t[n]));return{...t}};return e(t)}(t.schema):(this._storeIsProxy=!0,this.store=t.schema),this.callbackMap=Object.create(null)}static warn(t,e){console.warn(`Symbiote Data: cannot ${t}. Prop name: `+e)}read(t){return this._storeIsProxy||this.store.hasOwnProperty(t)?this.store[t]:(n.warn("read",t),null)}has(t){return this._storeIsProxy?void 0!==this.store[t]:this.store.hasOwnProperty(t)}add(t,e,s=!0){!s&&Object.keys(this.store).includes(t)||(this.store[t]=e,this.callbackMap[t]&&this.callbackMap[t].forEach((e=>{e(this.store[t])})))}pub(t,e){this._storeIsProxy||this.store.hasOwnProperty(t)?this.add(t,e):n.warn("publish",t)}multiPub(t){for(let e in t)this.pub(e,t[e])}notify(t){this.callbackMap[t]&&this.callbackMap[t].forEach((e=>{e(this.store[t])}))}sub(t,e,s=!0){return this._storeIsProxy||this.store.hasOwnProperty(t)?(this.callbackMap[t]||(this.callbackMap[t]=new Set),this.callbackMap[t].add(e),s&&e(this.store[t]),{remove:()=>{this.callbackMap[t].delete(e),this.callbackMap[t].size||delete this.callbackMap[t]},callback:e}):(n.warn("subscribe",t),null)}remove(){delete n.globalStore[this.uid]}static registerLocalCtx(t){let e=new n({schema:t});return n.globalStore[e.uid]=e,e}static registerNamedCtx(t,e){let s=n.globalStore[t];return s?console.warn('State: context name "'+t+'" already in use'):(s=new n({name:t,schema:e}),n.globalStore[t]=s),s}static clearNamedCtx(t){delete n.globalStore[t]}static getNamedCtx(t,e=!0){return n.globalStore[t]||(e&&console.warn('State: wrong context name - "'+t+'"'),null)}};n.globalStore=Object.create(null);var i=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym"}),r="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",o=r.length-1,a="{{",l="}}",d=[function(t,e){if(e.shadowRoot)return;let s=[...t.querySelectorAll("slot")];if(e.initChildren.length&&s.length){let t={};s.forEach((e=>{let s=e.getAttribute("name");s?t[s]={slot:e,fr:document.createDocumentFragment()}:t.__default__={slot:e,fr:document.createDocumentFragment()}})),e.initChildren.forEach((e=>{var s;let n=null==(s=e.getAttribute)?void 0:s.call(e,"slot");n?(e.removeAttribute("slot"),t[n].fr.appendChild(e)):t.__default__&&t.__default__.fr.appendChild(e)})),Object.values(t).forEach((t=>{t.slot.parentNode.insertBefore(t.fr,t.slot),t.slot.remove()}))}},function(t,e){[...t.querySelectorAll(`[${i.EL_REF_ATTR}]`)].forEach((t=>{let s=t.getAttribute(i.EL_REF_ATTR);e.ref[s]=t,t.removeAttribute(i.EL_REF_ATTR)}))},function(t,e){[...t.querySelectorAll(`[${i.BIND_ATTR}]`)].forEach((t=>{t.getAttribute(i.BIND_ATTR).split(";").forEach((s=>{if(!s)return;let n,r=s.split(":").map((t=>t.trim())),o=r[0];0===o.indexOf(i.ATTR_BIND_PRFX)&&(n=!0,o=o.replace(i.ATTR_BIND_PRFX,""));let a,l,d,c,h=r[1].split(",").map((t=>t.trim()));if(o.includes(".")){a=!0;let e=o.split(".");c=()=>{l=t,e.forEach(((t,s)=>{s<e.length-1?l=l[t]:d=t}))},c()}for(let s of h)e.sub(s,(e=>{n?(null==e?void 0:e.constructor)===Boolean?e?t.setAttribute(o,""):t.removeAttribute(o):t.setAttribute(o,e):a?l?l[d]=e:window.setTimeout((()=>{c(),l[d]=e})):t[o]=e}))})),t.removeAttribute(i.BIND_ATTR)}))},function(t,e){(function(t){let e,s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:t=>{var e;return!(null==(e=t.parentElement)?void 0:e.hasAttribute("skip-text"))&&t.textContent.includes(a)&&t.textContent.includes(l)&&1}});for(;e=n.nextNode();)s.push(e);return s})(t).forEach((t=>{let s,n=[];for(;t.textContent.includes(l);)t.textContent.startsWith(a)?(s=t.textContent.indexOf(l)+l.length,t.splitText(s),n.push(t)):(s=t.textContent.indexOf(a),t.splitText(s)),t=t.nextSibling;n.forEach((t=>{let s=t.textContent.replace(a,"").replace(l,"");e.sub(s,(e=>{t.textContent=e}))}))}))}],c=0,h=class extends HTMLElement{initCallback(){}__initCallback(){var t;this.__initialized||(this.__initialized=!0,null==(t=this.initCallback)||t.call(this))}render(t,e=this.renderShadow){let s;if(!e&&!this.constructor.__shadowStylesUrl||this.shadowRoot||this.attachShadow({mode:"open"}),this.processInnerHtml)for(let t of this.tplProcessors)t(this,this);if(t||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),(null==t?void 0:t.constructor)===DocumentFragment)s=t;else if((null==t?void 0:t.constructor)===String){let e=document.createElement("template");e.innerHTML=t,s=e.content.cloneNode(!0)}else this.constructor.__tpl&&(s=this.constructor.__tpl.content.cloneNode(!0));for(let t of this.tplProcessors)t(s,this)}let n=()=>{s&&(e&&this.shadowRoot.appendChild(s)||this.appendChild(s)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){e=!0;let t=document.createElement("link");t.rel="stylesheet",t.href=this.constructor.__shadowStylesUrl,t.onload=n,this.shadowRoot.prepend(t)}else n()}addTemplateProcessor(t){this.tplProcessors.add(t)}constructor(){super(),this.init$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=class{static generate(t="XXXXXXXXX-XXX"){let e="";for(let s=0;s<t.length;s++)e+="-"===t[s]?t[s]:r.charAt(Math.random()*o);return e}}.generate(),this.style.setProperty(i.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(i.CSS_CTX_PROP,!0)}get ctxName(){var t;return(null==(t=this.getAttribute(i.CTX_NAME_ATTR))?void 0:t.trim())||this.cssCtxName||this.autoCtxName}get localCtx(){return this.__localCtx||(this.__localCtx=n.registerLocalCtx({})),this.__localCtx}get nodeCtx(){return n.getNamedCtx(this.ctxName,!1)||n.registerNamedCtx(this.ctxName,{})}static __parseProp(t,e){let s,r;if(t.startsWith(i.EXT_DATA_CTX_PRFX))s=e.nodeCtx,r=t.replace(i.EXT_DATA_CTX_PRFX,"");else if(t.includes(i.NAMED_DATA_CTX_SPLTR)){let e=t.split(i.NAMED_DATA_CTX_SPLTR);s=n.getNamedCtx(e[0]),r=e[1]}else s=e.localCtx,r=t;return{ctx:s,name:r}}sub(t,e){let s=h.__parseProp(t,this);this.allSubs.add(s.ctx.sub(s.name,e))}notify(t){let e=h.__parseProp(t,this);e.ctx.notify(e.name)}has(t){let e=h.__parseProp(t,this);return e.ctx.has(e.name)}add(t,e){let s=h.__parseProp(t,this);s.ctx.add(s.name,e,!1)}add$(t){for(let e in t)this.add(e,t[e])}get $(){if(!this.__stateProxy){let t=Object.create(null);this.__stateProxy=new Proxy(t,{set:(t,e,s)=>{let n=h.__parseProp(e,this);return n.ctx.pub(n.name,s),!0},get:(t,e)=>{let s=h.__parseProp(e,this);return s.ctx.read(s.name)}})}return this.__stateProxy}set$(t){for(let e in t)this.$[e]=t[e]}__initDataCtx(){let t=this.constructor.__attrDesc;if(t)for(let e of Object.values(t))Object.keys(this.init$).includes(e)||(this.init$[e]="");for(let t in this.init$)if(t.startsWith(i.EXT_DATA_CTX_PRFX))this.nodeCtx.add(t.replace(i.EXT_DATA_CTX_PRFX,""),this.init$[t]);else if(t.includes(i.NAMED_DATA_CTX_SPLTR)){let e=t.split(i.NAMED_DATA_CTX_SPLTR),s=e[0].trim(),r=e[1].trim();if(s&&r){let e=n.getNamedCtx(s,!1);e||(e=n.registerNamedCtx(s,{})),e.add(r,this.init$[t])}}else this.localCtx.add(t,this.init$[t]);this.__dataCtxInitialized=!0}connectedCallback(){var t;if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let e=null==(t=this.getAttribute(i.CTX_NAME_ATTR))?void 0:t.trim();e&&this.style.setProperty(i.CSS_CTX_PROP,`'${e}'`),this.__initDataCtx(),this.initChildren=[...this.childNodes];for(let t of d)this.addTemplateProcessor(t);this.pauseRender?this.__initCallback():this.render()}this.connectedOnce=!0}destroyCallback(){}disconnectedCallback(){this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout((()=>{this.destroyCallback();for(let t of this.allSubs)t.remove(),this.allSubs.delete(t);for(let t of this.tplProcessors)this.tplProcessors.delete(t)}),100))}static reg(t,e=!1){t||(c++,t=`${i.AUTO_TAG_PRFX}-${c}`),this.__tag=t,window.customElements.get(t)?console.warn(`${t} - is already in "customElements" registry`):window.customElements.define(t,e?class extends(this){}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(t){this.observedAttributes=Object.keys(t),this.__attrDesc=t}attributeChangedCallback(t,e,s){if(e===s)return;let n=this.constructor.__attrDesc[t];n?this.__dataCtxInitialized?this.$[n]=s:this.init$[n]=s:this[t]=s}getCssData(t,e=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(t)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let s=this.__computedStyle.getPropertyValue(t).trim();s.startsWith("'")&&s.endsWith("'")&&(s=s.replace(/\'/g,'"'));try{this.__cssDataCache[t]=JSON.parse(s)}catch(s){!e&&console.warn(`CSS Data error: ${t}`),this.__cssDataCache[t]=null}}return this.__cssDataCache[t]}bindCssData(t,e=!0){let s=(e?i.EXT_DATA_CTX_PRFX:"")+t;return this.add(s,this.getCssData(t,!0)),s}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(t,e,s){let n="__"+t;this[n]=this[t],Object.defineProperty(this,t,{set:t=>{this[n]=t,s?window.setTimeout((()=>{null==e||e(t)})):null==e||e(t)},get:()=>this[n]}),this[t]=this[n]}static set shadowStyles(t){let e=new Blob([t],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(e)}},u=h;e(u,"template");var p=class{static _print(t){console.warn(t)}static setDefaultTitle(t){this.defaultTitle=t}static setRoutingMap(t){Object.assign(this.appMap,t);for(let t in this.appMap)this.defaultRoute||!0!==this.appMap[t].default?this.errorRoute||!0!==this.appMap[t].error||(this.errorRoute=t):this.defaultRoute=t}static set routingEventName(t){this.__routingEventName=t}static get routingEventName(){return this.__routingEventName||"sym-on-route"}static readAddressBar(){let t={route:null,options:{}};return window.location.search.split(this.separator).forEach((e=>{if(e.includes("?"))t.route=e.replace("?","");else if(e.includes("=")){let s=e.split("=");t.options[s[0]]=decodeURI(s[1])}else t.options[e]=!0})),t}static notify(){let t=this.readAddressBar(),e=this.appMap[t.route];if(e&&e.title&&(document.title=e.title),null===t.route&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!e&&this.errorRoute)return void this.applyRoute(this.errorRoute);if(!e&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!e)return void this._print(`Route "${t.route}" not found...`);let s=new CustomEvent(p.routingEventName,{detail:{route:t.route,options:Object.assign(e||{},t.options)}});window.dispatchEvent(s)}static reflect(t,e={}){let s=this.appMap[t];if(!s)return void this._print("Wrong route: "+t);let n="?"+t;for(let t in e)!0===e[t]?n+=this.separator+t:n+=this.separator+t+`=${e[t]}`;let i=s.title||this.defaultTitle||"";window.history.pushState(null,i,n),document.title=i}static applyRoute(t,e={}){this.reflect(t,e),this.notify()}static setSeparator(t){this._separator=t}static get separator(){return this._separator||"&"}static createRouterData(t,e){this.setRoutingMap(e);let s=n.registerNamedCtx(t,{route:null,options:null,title:null});return window.addEventListener(this.routingEventName,(t=>{var e;s.multiPub({route:t.detail.route,options:t.detail.options,title:(null==(e=t.detail.options)?void 0:e.title)||this.defaultTitle||""})})),p.notify(),s}};p.appMap=Object.create(null),window.onpopstate=()=>{p.notify()};var m="idb-store-ready",_=class{static get readyEventName(){return m}static open(t="symbiote-db",e="store"){let s=t+"/"+e;return this._reg[s]||(this._reg[s]=new class{_notifyWhenReady(t=null){window.dispatchEvent(new CustomEvent(m,{detail:{dbName:this.name,storeName:this.storeName,event:t}}))}get _updEventName(){return"symbiote-idb-update_"+this.name}_getUpdateEvent(t){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:t}})}_notifySubscribers(t){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,t),window.dispatchEvent(this._getUpdateEvent(t))}constructor(t,e){this.name=t,this.storeName=e,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=t=>{this.db=t.target.result,this.objStore=this.db.createObjectStore(e,{keyPath:"_key"}),this.objStore.transaction.oncomplete=t=>{this._notifyWhenReady(t)}},this.request.onsuccess=t=>{this.db=t.target.result,this._notifyWhenReady(t)},this.request.onerror=t=>{console.error(t)},this._subscriptionsMap={},this._updateHandler=t=>{t.key===this.name&&this._subscriptionsMap[t.newValue]&&this._subscriptionsMap[t.newValue].forEach((async e=>{e(await this.read(t.newValue))}))},this._localUpdateHandler=t=>{this._updateHandler(t.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(t){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(t);return new Promise(((s,n)=>{e.onsuccess=e=>{var n;(null==(n=e.target.result)?void 0:n._value)?s(e.target.result._value):(s(null),console.warn(`IDB: cannot read "${t}"`))},e.onerror=t=>{n(t)}}))}write(t,e,s=!1){let n={_key:t,_value:e},i=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(n);return new Promise(((e,n)=>{i.onsuccess=n=>{s||this._notifySubscribers(t),e(n.target.result)},i.onerror=t=>{n(t)}}))}delete(t,e=!1){let s=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(t);return new Promise(((n,i)=>{s.onsuccess=s=>{e||this._notifySubscribers(t),n(s)},s.onerror=t=>{i(t)}}))}getAll(){let t=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise(((e,s)=>{t.onsuccess=t=>{let s=t.target.result;e(s.map((t=>t._value)))},t.onerror=t=>{s(t)}}))}subscribe(t,e){this._subscriptionsMap[t]||(this._subscriptionsMap[t]=new Set);let s=this._subscriptionsMap[t];return s.add(e),{remove:()=>{s.delete(e),s.size||delete this._subscriptionsMap[t]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,_.clear(this.name)}}(t,e)),this._reg[s]}static clear(t){window.indexedDB.deleteDatabase(t);for(let e in this._reg)e.split("/")[0]===t&&delete this._reg[e]}};e(_,"_reg",Object.create(null));var b=s(379),g=s.n(b),f=s(795),v=s.n(f),x=s(569),y=s.n(x),w=s(565),C=s.n(w),T=s(216),A=s.n(T),S=s(589),k=s.n(S),E=s(285),N={};N.styleTagTransform=k(),N.setAttributes=C(),N.insert=y().bind(null,"head"),N.domAPI=v(),N.insertStyleElement=A(),g()(E.Z,N),E.Z&&E.Z.locals&&E.Z.locals;var P="ru";const D="todoListItems",R=(()=>{const t=localStorage.getItem(D);n.registerNamedCtx("todo-list",{count:JSON.parse(t)?.length||0,items:JSON.parse(t)||[]});const e=()=>n.getNamedCtx("todo-list");return{getCtx:e,getItems:()=>e().read("items"),getCount:()=>e().read("count"),updateItems:t=>e().pub("items",t),updateCount:t=>e().pub("count",t),onItemsUpdate:t=>e().sub("items",(e=>{localStorage.setItem(D,JSON.stringify(e)),t(e)}))}})();var M=s(997),I={};I.styleTagTransform=k(),I.setAttributes=C(),I.insert=y().bind(null,"head"),I.domAPI=v(),I.insertStyleElement=A(),g()(M.Z,I),M.Z&&M.Z.locals&&M.Z.locals;class O extends u{init$={heading:"To-Do List heading",editHeading:()=>{this.ref.heading.classList.add("heading_hidden"),this.ref.input.removeAttribute("hidden"),this.ref.editHeadingButton.setAttribute("disabled",!0),this.ref.input.focus()},handleBlur:t=>{this.$.heading=t.target.value,this.ref.heading.classList.remove("heading_hidden"),this.ref.input.setAttribute("hidden","hidden"),this.ref.editHeadingButton.removeAttribute("disabled")}};initCallback(){this.sub("heading",(t=>{t||(this.$.heading="Empty heading")}))}}O.template='<div class="heading-wrapper"> <h2 class="heading" ref="heading">{{heading}}</h2> <input class="heading__input" type="text" ref="input" set="onblur: handleBlur; value: heading" maxlength="42" hidden/> <button class="heading__button" title="Edit heading" ref="editHeadingButton" set="onclick: editHeading"> <svg viewBox="64 64 896 896" focusable="false" data-icon="edit" width="1em" height="1em" fill="currentColor" aria-hidden="true"> <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path> </svg> </button> </div>',O.reg("todo-list-heading");var X=s(98),L={};L.styleTagTransform=k(),L.setAttributes=C(),L.insert=y().bind(null,"head"),L.domAPI=v(),L.insertStyleElement=A(),g()(X.Z,L),X.Z&&X.Z.locals&&X.Z.locals;class $ extends u{}$.template='<p class="todo-list-empty"> Your to-do list is empty, add new items! </p>',$.reg("todo-list-empty");var j=s(511),Z={};Z.styleTagTransform=k(),Z.setAttributes=C(),Z.insert=y().bind(null,"head"),Z.domAPI=v(),Z.insertStyleElement=A(),g()(j.Z,Z),j.Z&&j.Z.locals&&j.Z.locals;class H extends u{init$={checkedItems:0};initCallback(){R.onItemsUpdate((t=>{this.$.checkedItems=t.filter((t=>t.checked)).length,this.ref.progress.style.width=`${Math.floor(this.$.checkedItems/t.length*100)}%`}))}}H.template='<div class="todo-list-progress-bar"> <div class="todo-list-progress-bar__line"> <span ref="progress" class="todo-list-progress-bar__progress"></span> </div> <div>Done {{checkedItems}} / {{todo-list/count}}</div> </div>',H.reg("todo-list-progress-bar");var B=s(957),F={};F.styleTagTransform=k(),F.setAttributes=C(),F.insert=y().bind(null,"head"),F.domAPI=v(),F.insertStyleElement=A(),g()(B.Z,F),B.Z&&B.Z.locals&&B.Z.locals;class z extends u{constructor(t){super(t),this.createdAt=t?.createdAt,this.date=t?.date,this.checkedProp=t?.checked,this.text=t?.text}init$={text:"",createdAt:null,date:null,remove:()=>{this.remove()},handleChange:t=>{R.updateItems(R.getItems().map((e=>({...e,checked:e.createdAt===this.$.createdAt?t.target.checked:e.checked}))))},handleBlur:t=>{R.updateItems(R.getItems().map((e=>({...e,text:e.createdAt===this.$.createdAt?t.target.innerHTML:e.text}))))}};get checked(){return this.ref.checkbox.checked}get data(){return{checked:!1,date:this.$.date,createdAt:this.$.createdAt}}clear=()=>{this.$.text=""};initCallback(){this.createdAt&&(this.$.createdAt=this.createdAt),this.date&&(this.$.date=this.date),this.checkedProp&&(this.ref.checkbox.checked=this.checkedProp),this.text&&(this.ref.edit.innerHTML=this.text),this.ref.edit.focus()}destroyCallback(){R.updateItems(R.getItems().filter((t=>t.createdAt!==this.$.createdAt))),R.updateCount(R.getCount()-1)}}z.template='<div class="todo-item"> <div class="todo-item__col"> <input class="todo-item__checkbox" ref="checkbox" type="checkbox" set="onchange: handleChange"> <div class="todo-item__content"> <div class="todo-item__input" ref="edit" contenteditable="true" set="textContent: text; onblur: handleBlur"></div> <small>Created at: <span set="@data-date: createdAt">{{date}}</span></small> </div> </div> <button class="todo-item__button" set="onclick: remove" title="Remove item"> <svg viewBox="64 64 896 896" focusable="false" data-icon="close-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"> <path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"></path><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path> </svg> </button> </div>',z.reg("todo-item");const U=z;var q=s(807),W={};W.styleTagTransform=k(),W.setAttributes=C(),W.insert=y().bind(null,"head"),W.domAPI=v(),W.insertStyleElement=A(),g()(q.Z,W),q.Z&&q.Z.locals&&q.Z.locals;class Y extends u{get items(){return[...this.ref.list_wrapper.children]}init$={addItem:()=>{const t=Date.now(),e={createdAt:t,date:(s=t,n="D.MM, HH:mm:ss",i=function(t){var e=t;"string"==typeof e&&isNaN(+e)&&(e=Date.parse(e));var s=new Date(10===(""+e).length?1e3*+e:+e);if(!(s instanceof Date)||isNaN(+s))throw new Error("Invalid date value: "+t);return s}(s),r=("0"+i.getHours()).slice(-2),o=("0"+i.getMinutes()).slice(-2),a=("0"+i.getSeconds()).slice(-2),l=i.getTimezoneOffset(),d=Math.floor(l/-60),c=("0"+Math.abs(l%60)).slice(-2),h=("0"+Math.abs(d)).slice(-2),(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace("ss",a)).replace("mm",o)).replace("HH",r)).replace("dddd",i.toLocaleString(P,{weekday:"long"}))).replace("DD",("0"+i.getDate()).slice(-2))).replace("D",""+i.getDate())).replace("MMMM",i.toLocaleString(P,{month:"long",day:"numeric"}).split(" ")[1])).replace("MMM",i.toLocaleString(P,{month:"short"}))).replace("MM",("0"+(i.getMonth()+1)).slice(-2))).replace("YYYY",""+i.getFullYear())).replace("YY",(""+i.getFullYear()).substring(2))).replace("ZZ",(d>0?"+":"-")+h+c)).replace("Z",(d>0?"+":"-")+h+":"+c)).replace(/\u200E/g,"")),checked:!1,text:""};var s,n,i,r,o,a,l,d,c,h;this.ref.list_wrapper.appendChild(new U(e)),R.updateItems([...R.getItems(),e]),R.updateCount(R.getItems().length)},clearChecked:()=>{this.items.forEach((t=>{t.checked&&t.clear()}))},removeChecked:()=>{this.items.forEach((t=>{t.checked&&t.remove()}))},sortItemsByStatus:()=>{const t=[...this.ref.list_wrapper.children].sort(((t,e)=>{const s=t.querySelector("input[type=checkbox]:checked"),n=e.querySelector("input[type=checkbox]:checked");return s&&!n?1:!s&&n?-1:0}));this.$.updateChildren(t)},sortItemsByDate:()=>{const t=[...this.ref.list_wrapper.children].sort(((t,e)=>t.querySelector("[data-date]").dataset.date>e.querySelector("[data-date]").dataset.date?1:-1));this.$.updateChildren(t)},updateChildren:t=>{this.ref.list_wrapper.replaceChildren(...t)},isTodoListEmpty:!!R.getItems().length,isTodoListHidden:!R.getItems().length,isToolbarDisabled:!0};initCallback(){const t=R.getItems();t.length?t.forEach((t=>{this.ref.list_wrapper.appendChild(new U(t))})):this.$.addItem(),R.onItemsUpdate((t=>{this.$.isToolbarDisabled=!t.some((t=>t.checked)),this.$.isTodoListEmpty=!!t.length,this.$.isTodoListHidden=!t.length}))}}Y.template='<div class="todo-list"> <todo-list-heading></todo-list-heading> <todo-list-progress-bar set="@hidden: isTodoListHidden"></todo-list-progress-bar> <todo-list-empty set="@hidden: isTodoListEmpty"></todo-list-empty> <div class="todo-list__sorting" set="@hidden: isTodoListHidden"> Sort by: <button set="onclick: sortItemsByStatus">status</button> <button set="onclick: sortItemsByDate">date</button> </div> <div ref="list_wrapper"></div> <div class="todo-list__toolbar"> <button set="onclick: addItem">Add Item</button> <button set="onclick: clearChecked; @disabled: isToolbarDisabled">Clear Checked</button> <button set="onclick: removeChecked; @disabled: isToolbarDisabled" disabled="disabled">Remove Checked</button> </div> </div> ',Y.reg("todo-list");class J extends u{}J.template="\n  <todo-list></todo-list>\n",J.reg("main-app")})()})();